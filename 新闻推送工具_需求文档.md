# 新闻推送工具 - 需求与架构设计文档

## 一、项目概述

### 项目名称
**Personal News Aggregator (个人新闻聚合推送工具)**

### 项目背景和目标
在信息爆炸的时代，个人需要从多个渠道（RSS、社交媒体、视频平台、博客等）获取信息。当前面临的问题是：
- 信息分散，需要逐个访问不同平台
- 手动整理耗时耗力
- 难以追踪最新更新
- 缺乏统一的内容处理（去重、翻译等）

**项目目标**：构建一个自动化的新闻聚合工具，能够从多个订阅源自动抓取内容，进行处理和整理，生成静态网页供用户浏览，降低信息获取成本。

### 业务价值
- **时间效率**：自动化处理，减少90%的信息搜集时间
- **信息质量**：自动去重和翻译，提升内容质量
- **个性化**：支持自定义订阅源，满足个人需求
- **成本优化**：使用免费服务，运营成本接近零
- **可扩展性**：模块化设计，易于添加新的订阅源类型

### 目标用户群体
- **主要用户**：个人用户（项目创建者）
- **次要用户**：公网访问者（对聚合内容感兴趣的读者）

### 核心业务场景
1. **订阅源管理**：使用Notion数据库管理订阅源，用户可直接在Notion中添加、删除、查看订阅源（RSS、Twitter List、YouTube频道、博客）
2. **定时抓取**：系统自动在指定时间（12:00、15:00、20:00）从Notion读取订阅源列表并抓取更新
3. **内容处理**：自动提取标题、去重、翻译英文内容
4. **内容展示**：在静态网页上按时间、源等维度展示内容
5. **历史归档**：保留历史内容，支持按日期查看
6. **Notion同步**：抓取成功后自动更新Notion中的"最后抓取时间"

---

## 二、需求分析

### 2.1 功能需求

#### 核心功能列表（P0）

| 功能ID | 功能名称 | 功能描述 | 优先级 |
|--------|----------|----------|--------|
| F001 | Notion集成 | 从Notion数据库读取订阅源配置 | P0 |
| F001-1 | 订阅源同步 | 抓取成功后更新Notion中的最后抓取时间 | P0 |
| F002 | RSS抓取 | 从RSS源获取最新内容 | P0 |
| F003 | Twitter抓取 | 从Twitter List获取最新推文 | P0 |
| F004 | YouTube抓取 | 从YouTube频道获取最新视频 | P0 |
| F005 | 博客抓取 | 从博客网站获取最新文章 | P0 |
| F006 | 定时任务 | 每天3次（12:00、15:00、20:00）自动抓取 | P0 |
| F007 | 内容提取 | 提取标题、链接、发布时间、摘要 | P0 |
| F008 | 内容去重 | 基于标题和链接进行内容去重 | P0 |
| F009 | 英文翻译 | 自动翻译英文内容为中文 | P0 |
| F010 | 静态网页生成 | 生成包含所有内容的静态HTML页面 | P0 |
| F011 | 内容展示 | 按时间倒序展示内容，支持按源筛选 | P0 |
| F012 | 历史归档 | 按日期归档内容，支持历史查看 | P0 |

#### 辅助功能列表（P1）

| 功能ID | 功能名称 | 功能描述 | 优先级 |
|--------|----------|----------|--------|
| F013 | 搜索功能 | 支持关键词搜索历史内容 | P1 |
| F014 | 标签分类 | 自动提取关键词并打标签 | P1 |
| F015 | 内容统计 | 显示抓取统计（源数量、文章数量等） | P1 |
| F016 | RSS输出 | 生成聚合后的RSS供其他工具订阅 | P1 |
| F017 | 响应式设计 | 支持移动端和桌面端访问 | P1 |
| F018 | 深色模式 | 支持深色/浅色主题切换 | P1 |

#### 增强功能列表（P2）

| 功能ID | 功能名称 | 功能描述 | 优先级 |
|--------|----------|----------|--------|
| F019 | 智能推荐 | 基于阅读历史推荐内容 | P2 |
| F020 | 邮件推送 | 抓取完成后发送邮件通知 | P2 |
| F021 | 数据导出 | 导出为JSON、CSV等格式 | P2 |
| F022 | 订阅源监控 | 监控订阅源状态，异常告警 | P2 |
| F023 | 阅读进度 | 记录已读/未读状态 | P2 |

### 2.2 非功能需求

#### 性能指标
| 指标 | 要求 | 说明 |
|------|------|------|
| 抓取响应时间 | < 30秒/源 | 单个订阅源的抓取时间 |
| 网页加载时间 | < 2秒 | 静态网页首屏加载时间 |
| 并发抓取能力 | 10+ | 同时抓取多个订阅源 |
| 日处理能力 | 500+ 条 | 每天处理内容条数 |

#### 可用性要求（SLA）
- 系统可用性：95%（基于免费服务）
- 数据持久性：100%（历史数据不丢失）
- 定时任务成功率：90%（允许网络波动）

#### 安全性要求
- API密钥安全存储（环境变量）
- 访问日志记录
- 防止恶意爬虫（如有必要）
- 内容过滤（敏感词、垃圾信息）

#### 可扩展性要求
- 支持100+订阅源
- 支持每天5+次抓取
- 支持新增订阅源类型（插件化）
- 支持数据迁移

#### 可维护性要求
- 代码结构清晰，模块化
- 完整的日志记录
- 错误处理和异常监控
- 文档完善

### 2.3 约束条件

#### 技术栈限制
- 前端：JavaScript/TypeScript
- 后端：Python 3.9+
- 数据库：SQLite/JSON文件
- 部署：GitHub Pages / Vercel（免费服务）

#### 预算和资源限制
- **月成本目标**：< 10美元
- **服务器资源**：无自有服务器
- **依赖服务**：免费API优先
- **人力投入**：个人开发，1-2周完成

#### 时间限制
- 阶段一（MVP）：1周
- 阶段二（优化）：1周
- 总开发周期：2周

#### 合规性要求
- 遵守各平台API使用条款
- 内容版权声明
- 隐私保护（不收集用户数据）
- API调用频率限制

---

## 三、架构设计

### 3.1 架构设计原则

| 原则 | 应用说明 |
|------|----------|
| 简单性原则 | 避免过度设计，使用成熟技术栈，优先使用现成服务 |
| 可扩展性原则 | 模块化设计，支持插件化添加新订阅源 |
| 高可用性原则 | 使用无服务架构，自动扩缩容 |
| 安全性原则 | API密钥加密存储，访问控制 |
| 成本效益原则 | 优先使用免费服务，避免付费组件 |
| 可观测性原则 | 完整日志，错误监控，便于排查问题 |

### 3.2 系统架构图

```
┌─────────────────────────────────────────────────────────────┐
│                      Notion (订阅源管理)                      │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  Notion数据库                                        │   │
│  │  - 订阅源配置（类型、URL、状态、标签）               │   │
│  │  - 最后抓取时间（自动更新）                          │   │
│  └──────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                        表现层 (前端)                          │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
│  │  静态网页    │  │  移动端适配  │  │  深色模式    │      │
│  │  (Vue/React) │  │  (响应式)    │  │  (CSS主题)   │      │
│  └──────────────┘  └──────────────┘  └──────────────┘      │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                      应用层 (后端服务)                        │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
│  │  Notion客户端│  │  静态生成器  │  │  主控制器    │      │
│  │  (集成模块)  │  │  (自定义)    │  │  (调度逻辑)  │      │
│  └──────────────┘  └──────────────┘  └──────────────┘      │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                       服务层 (模块)                          │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────┐  │
│  │ RSS抓取 │ │Twitter  │ │YouTube  │ │ 博客    │ │内容 │  │
│  │ 模块    │ │ 抓取    │ │ 抓取    │ │ 抓取    │ │处理 │  │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────┘  │
│  ┌─────────┐ ┌─────────┐                                      │
│  │ 翻译    │ │ 去重    │                                      │
│  │ 服务    │ │ 服务    │                                      │
│  └─────────┘ └─────────┘                                      │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                        数据层 (存储)                          │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
│  │  SQLite      │  │  静态文件    │  │  日志文件    │      │
│  │  数据库      │  │  (HTML/JSON) │  │  (Log)       │      │
│  └──────────────┘  └──────────────┘  └──────────────┘      │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                    基础设施层 (部署)                         │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
│  │ GitHub Actions│ │ Vercel       │ │ GitHub Pages  │      │
│  │ (CI/CD/调度) │ │ (API/函数)   │ │ (静态托管)    │      │
│  └──────────────┘  └──────────────┘  └──────────────┘      │
└─────────────────────────────────────────────────────────────┘
```

### 3.3 技术架构选型

#### 前端技术栈

| 组件 | 选择方案 | 理由 |
|------|----------|------|
| 框架 | Vue 3 (CDN模式) | 轻量级，易于集成到静态页面 |
| 状态管理 | Pinia / 简单响应式 | 小项目简单响应式即可 |
| 构建工具 | Vite | 快速开发，现代化 |
| CSS框架 | Bootstrap 5 | 快速构建响应式界面 |
| 性能优化 | 懒加载、代码分割 | 提升加载速度 |
| 部署方式 | 静态HTML+JS | 无需构建，直接托管 |

**最终方案**：使用Vue 3 CDN模式 + Bootstrap 5，生成纯静态HTML页面

#### 后端技术栈

| 组件 | 选择方案 | 理由 |
|------|----------|------|
| 编程语言 | Python 3.9 | 用户已有，生态丰富 |
| Web框架 | FastAPI | 轻量级，类型安全，异步支持 |
| Notion集成 | notion-client | 官方Python SDK，功能完整 |
| RSS处理 | feedparser | 成熟稳定，支持多种RSS格式 |
| Twitter API | tweepy | 官方推荐，功能完整 |
| YouTube API | google-api-python-client | 官方API，功能强大 |
| 博客抓取 | requests + BeautifulSoup | 灵活，易于定制 |
| 翻译服务 | DeepL API / Google Translate | 高质量翻译 |
| 数据存储 | SQLite / JSON文件 | 轻量级，无需额外服务 |
| 任务调度 | GitHub Actions Cron | 免费，可靠 |
| 异步处理 | asyncio + aiohttp | 提升抓取效率 |

#### 数据架构

| 组件 | 选择方案 | 理由 |
|------|----------|------|
| 主数据库 | SQLite | 轻量级，文件存储，易于备份 |
| 备用方案 | JSON文件 | 更简单，适合小规模数据 |
| 缓存策略 | 内存缓存（单次运行） | 无需Redis，降低复杂度 |
| 数据同步 | 文件级同步 | Git版本控制 |
| 数据备份 | Git + 定期导出 | 自动版本管理 |
| 数据结构 | 文章表、源表、标签表 | 关系型设计，便于查询 |

**数据库表设计**：
```sql
-- 订阅源表
sources (
    id INTEGER PRIMARY KEY,
    type TEXT,  -- 'rss', 'twitter', 'youtube', 'blog'
    name TEXT,
    url TEXT,
    config TEXT,  -- JSON格式配置
    active BOOLEAN,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
)

-- 文章表
articles (
    id INTEGER PRIMARY KEY,
    source_id INTEGER,
    title TEXT,
    content TEXT,
    url TEXT UNIQUE,
    published_at TIMESTAMP,
    translated_title TEXT,
    is_translated BOOLEAN,
    created_at TIMESTAMP,
    FOREIGN KEY (source_id) REFERENCES sources(id)
)

-- 标签表
tags (
    id INTEGER PRIMARY KEY,
    name TEXT UNIQUE
)

-- 文章-标签关联表
article_tags (
    article_id INTEGER,
    tag_id INTEGER,
    PRIMARY KEY (article_id, tag_id),
    FOREIGN KEY (article_id) REFERENCES articles(id),
    FOREIGN KEY (tag_id) REFERENCES tags(id)
)
```

**Notion数据库结构**：
```
订阅源数据库 (Subscription Sources Database)
├── Name (Title)           - 订阅源名称
├── Type (Select)          - 类型：RSS / Twitter / YouTube / Blog
├── URL (URL)              - 订阅源地址
├── Active (Checkbox)      - 是否启用
├── Tags (Multi-select)    - 标签（可选）
└── Last Fetched (Date)    - 最后抓取时间（系统自动更新）
```

#### 基础设施架构

| 组件 | 选择方案 | 理由 |
|------|----------|------|
| 云服务商 | GitHub / Vercel | 免费，稳定 |
| 容器化方案 | 无（Serverless） | 降低复杂度 |
| CI/CD | GitHub Actions | 免费，集成Git |
| 监控方案 | GitHub Actions日志 | 简单够用 |
| 域名 | 可选 | 使用免费域名 |

### 3.4 安全架构

| 安全措施 | 实现方案 |
|----------|----------|
| API密钥存储 | GitHub Secrets / Vercel Environment Variables |
| 访问控制 | 无需登录，公开访问 |
| 数据加密 | 无敏感数据，无需加密 |
| API安全 | 速率限制，API密钥验证 |
| 网络安全 | HTTPS（自动） |
| 审计日志 | GitHub Actions日志 |
| 内容安全 | 基础敏感词过滤 |
| 备份安全 | Git版本控制，自动备份 |

### 3.5 部署架构

#### 环境规划

| 环境 | 平台 | 用途 |
|------|------|------|
| 开发环境 | 本地 | 开发和测试 |
| 生产环境 | Vercel + GitHub Pages | 正式运行 |

#### 部署策略

```
┌─────────────────────────────────────────────────────┐
│                    部署流程                          │
├─────────────────────────────────────────────────────┤
│  1. 代码提交到 GitHub                                │
│  2. GitHub Actions 触发 CI/CD                        │
│  3. 运行抓取任务（12:00/15:00/20:00）                │
│  4. 生成静态HTML页面                                  │
│  5. 推送到 GitHub Pages 分支                         │
│  6. GitHub Pages 自动部署                            │
└─────────────────────────────────────────────────────┘
```

#### 负载均衡
- GitHub Pages：自动CDN分发
- 无需额外负载均衡

#### 容灾和备份
- 数据备份：Git版本控制
- 容灾：GitHub高可用
- 恢复：Git回滚

#### 自动化运维
- 定时任务：GitHub Actions Cron
- 日志收集：GitHub Actions日志
- 监控：手动检查日志

### 3.6 扩展性设计

| 扩展方向 | 实现方案 |
|----------|----------|
| 水平扩展 | GitHub Actions自动扩容 |
| 垂直扩展 | 优化代码，提升单次处理能力 |
| 缓存策略 | 内存缓存，避免重复抓取 |
| 数据库分片 | 暂不需要，SQLite足够 |
| 新增订阅源类型 | 插件化设计，基类+实现 |

---

## 四、详细实现方案

### 4.1 前端实现

#### 项目结构
```
frontend/
├── index.html           # 主页面
├── css/
│   └── main.css         # 主样式
├── js/
│   ├── app.js           # 主应用
│   └── components.js    # 组件
└── data/
    └── articles.json    # 文章数据（生成）
```

#### 页面结构
```html
<!-- 主页面结构 -->
<header>
  - 标题
  - 导航（首页、归档、关于）
  - 主题切换
  - 搜索框
</header>

<main>
  - 筛选器（日期、源、标签）
  - 文章列表
    - 文章卡片
      - 标题
      - 摘要
      - 来源
      - 时间
      - 标签
</main>

<footer>
  - 统计信息
  - 版权声明
</footer>
```

#### 路由设计
- `/` - 首页（最新内容）
- `/archive/{date}` - 按日期归档
- `/source/{id}` - 按源筛选
- `/tag/{name}` - 按标签筛选
- `/search?q={keyword}` - 搜索结果

#### API调用规范
- 使用本地JSON文件（无需API）
- 数据格式：JSON数组

#### 状态管理
- 简单响应式数据
- URL参数管理筛选状态

#### 样式和主题方案
- Bootstrap 5 基础样式
- 自定义CSS
- 深色模式通过CSS变量实现

### 4.2 后端实现

#### 项目结构
```
backend/
├── main.py              # 主入口
├── config.py            # 配置
├── database.py          # 数据库操作
├── integrations/
│   └── notion.py        # Notion集成
├── scrapers/
│   ├── base.py          # 基类
│   ├── rss.py           # RSS抓取
│   ├── twitter.py       # Twitter抓取
│   ├── youtube.py       # YouTube抓取
│   └── blog.py          # 博客抓取
├── processors/
│   ├── dedup.py         # 去重
│   ├── translator.py    # 翻译
│   └── extractor.py     # 内容提取
├── generators/
│   └── static.py        # 静态页面生成
└── utils/
    ├── logger.py        # 日志
    └── helpers.py       # 辅助函数
```

#### 模块划分和职责

| 模块 | 职责 |
|------|------|
| main.py | 任务调度，主流程控制 |
| config.py | 配置管理 |
| database.py | 数据库CRUD操作 |
| integrations/notion.py | Notion API集成，订阅源管理 |
| scrapers/ | 各类订阅源抓取 |
| processors/ | 内容处理（去重、翻译） |
| generators/ | 静态页面生成 |
| utils/ | 工具函数 |

#### API接口设计
- 无需API（纯静态）
- 如需API：FastAPI RESTful

#### 业务逻辑实现

**主流程**：
```python
1. 加载配置
2. 从Notion数据库读取订阅源列表
3. 遍历订阅源，调用对应抓取器
4. 收集新内容
5. 内容去重
6. 翻译英文内容
7. 保存到数据库
8. 更新Notion中的最后抓取时间
9. 生成静态页面
10. 推送到GitHub
```

**抓取器基类**：
```python
class BaseScraper:
    def fetch(self) -> List[Article]:
        raise NotImplementedError

    def parse(self, raw_data) -> List[Article]:
        raise NotImplementedError
```

#### 异常处理机制
- 网络异常：重试3次
- API限制：延迟等待
- 数据异常：跳过，记录日志
- 翻译失败：保留原文

### 4.3 数据实现

#### 数据库表设计
见 3.3 节

#### 索引策略
```sql
CREATE INDEX idx_articles_url ON articles(url);
CREATE INDEX idx_articles_published_at ON articles(published_at DESC);
CREATE INDEX idx_articles_source_id ON articles(source_id);
```

#### 查询优化
- 使用索引加速查询
- 限制查询结果数量
- 避免全表扫描

#### 事务处理
- SQLite默认事务
- 批量插入使用事务
- 失败回滚

---

## 五、部署和运维

### 5.1 部署环境要求

| 组件 | 要求 |
|------|------|
| 服务器 | 无（使用GitHub Actions） |
| 操作系统 | 无限制 |
| 网络 | 稳定的网络连接 |
| 域名 | 可选（使用免费域名） |
| SSL证书 | 自动（GitHub Pages） |

### 5.2 部署流程

#### GitHub Actions 工作流

```yaml
name: News Aggregator

on:
  schedule:
    - cron: '0 4 * * *'   # 12:00 UTC+8
    - cron: '0 7 * * *'   # 15:00 UTC+8
    - cron: '0 12 * * *'  # 20:00 UTC+8
  workflow_dispatch:      # 手动触发

jobs:
  scrape:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      
      - name: Install dependencies
        run: |
          pip install -r requirements.txt
      
      - name: Run scraper
        env:
          NOTION_API_KEY: ${{ secrets.NOTION_API_KEY }}
          NOTION_DATABASE_ID: ${{ secrets.NOTION_DATABASE_ID }}
          TWITTER_API_KEY: ${{ secrets.TWITTER_API_KEY }}
          TWITTER_API_SECRET: ${{ secrets.TWITTER_API_SECRET }}
          YOUTUBE_API_KEY: ${{ secrets.YOUTUBE_API_KEY }}
          DEEPL_API_KEY: ${{ secrets.DEEPL_API_KEY }}
        run: |
          python backend/main.py
      
      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./frontend/dist
```

#### 部署步骤

1. **初始化仓库**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin <repo-url>
   git push -u origin main
   ```

2. **配置Secrets**
   - Notion API Key
   - Notion Database ID
   - Twitter API Key
   - YouTube API Key
   - DeepL API Key

3. **启用GitHub Pages**
   - Settings → Pages
   - Source: gh-pages branch

4. **测试运行**
   ```bash
   # 手动触发
   gh workflow run news-aggregator.yml
   ```

### 5.3 监控和告警

#### 关键指标监控
- 抓取成功率
- 抓取耗时
- 新增文章数
- 翻译成功率

#### 日志收集
- GitHub Actions日志
- 本地日志文件

#### 告警规则
- 抓取失败：查看日志
- 新增文章异常：检查订阅源

#### 性能瓶颈识别
- 定期检查日志
- 优化慢查询
- 优化抓取逻辑

### 5.4 运维手册

#### 日常维护任务
- 检查抓取日志
- 添加/删除订阅源
- 更新API密钥
- 备份数据

#### 故障排查流程

| 问题 | 排查步骤 |
|------|----------|
| 抓取失败 | 检查API密钥、网络连接、API限制 |
| 翻译失败 | 检查DeepL API余额、配额 |
| 页面不更新 | 检查GitHub Actions是否运行 |
| 数据丢失 | Git恢复、数据库备份恢复 |

#### 数据备份和恢复
- **备份**：Git自动版本控制
- **恢复**：Git checkout
- **导出**：定期导出SQLite数据库

#### 版本升级流程
1. 开发新功能（分支）
2. 测试验证
3. 合并到主分支
4. 自动部署

---

## 六、项目计划

### 6.1 开发里程碑

#### 阶段一：基础架构搭建（第1周）

| 任务 | 预计时间 | 状态 |
|------|----------|------|
| 初始化项目结构 | 0.5天 | ⬜ |
| 数据库设计和实现 | 1天 | ⬜ |
| RSS抓取模块 | 1天 | ⬜ |
| 基础页面框架 | 1天 | ⬜ |
| GitHub Actions配置 | 0.5天 | ⬜ |
| 测试和调试 | 1天 | ⬜ |

#### 阶段二：核心功能开发（第1周-第2周）

| 任务 | 预计时间 | 状态 |
|------|----------|------|
| Twitter抓取模块 | 1天 | ⬜ |
| YouTube抓取模块 | 1天 | ⬜ |
| 博客抓取模块 | 1天 | ⬜ |
| 去重服务 | 0.5天 | ⬜ |
| 翻译服务 | 0.5天 | ⬜ |
| 静态页面生成 | 1天 | ⬜ |
| 订阅源管理 | 0.5天 | ⬜ |
| 历史归档 | 0.5天 | ⬜ |

#### 阶段三：测试和优化（第2周）

| 任务 | 预计时间 | 状态 |
|------|----------|------|
| 功能测试 | 1天 | ⬜ |
| 性能优化 | 1天 | ⬜ |
| 移动端适配 | 0.5天 | ⬜ |
| 深色模式 | 0.5天 | ⬜ |
| 错误处理优化 | 0.5天 | ⬜ |
| 文档编写 | 0.5天 | ⬜ |

#### 阶段四：上线和迭代（第2周+）

| 任务 | 预计时间 | 状态 |
|------|----------|------|
| 部署到生产环境 | 0.5天 | ⬜ |
| 监控一周运行 | 7天 | ⬜ |
| 修复bug | 1天 | ⬜ |
| 迭代优化 | 持续 | ⬜ |

### 6.2 资源规划

#### 人员配置
- 开发：1人（个人开发）
- 测试：1人（本人）
- 运维：1人（本人）

#### 时间估算
- 开发周期：2周
- 测试周期：3天
- 上线时间：第3周

#### 成本预算

| 项目 | 月成本 | 年成本 |
|------|--------|--------|
| GitHub Actions | $0 | $0 |
| GitHub Pages | $0 | $0 |
| Vercel | $0 | $0 |
| API调用（DeepL） | $0-10 | $0-120 |
| 域名（可选） | $10 | $120 |
| **总计** | **$0-20** | **$0-240** |

### 6.3 风险评估

#### 技术风险及应对

| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|----------|
| API限制 | 中 | 高 | 速率控制，延迟重试 |
| 翻译API配额 | 中 | 中 | 配额监控，备选方案 |
| 抓取失败 | 低 | 中 | 错误处理，日志记录 |
| 网络不稳定 | 低 | 低 | 重试机制 |
| 数据丢失 | 低 | 高 | Git备份，定期导出 |

#### 业务风险及应对

| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|----------|
| 订阅源失效 | 中 | 低 | 定期检查，标记失效源 |
| 内容质量差 | 低 | 低 | 内容过滤，用户反馈 |
| 用户增长慢 | 低 | 低 | 持续优化，功能迭代 |

#### 运维风险及应对

| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|----------|
| GitHub Actions故障 | 低 | 中 | 备用方案（本地运行） |
| GitHub Pages故障 | 低 | 中 | 备选部署（Vercel） |
| 密钥泄露 | 低 | 高 | 定期更换，权限最小化 |
| 维护中断 | 低 | 低 | 文档完善，知识传承 |

---

## 七、附录

### 7.1 技术栈总结

| 层次 | 技术选择 |
|------|----------|
| 前端 | Vue 3, Bootstrap 5, Vanilla JS |
| 后端 | Python 3.9, FastAPI |
| 订阅源管理 | Notion Database, Notion API |
| 数据库 | SQLite |
| 部署 | GitHub Actions, GitHub Pages |
| 监控 | GitHub Actions日志 |
| API | Twitter API, YouTube API, DeepL API |

### 7.2 参考资源

- [GitHub Actions文档](https://docs.github.com/en/actions)
- [GitHub Pages文档](https://docs.github.com/en/pages)
- [Notion API文档](https://developers.notion.com/)
- [Twitter API文档](https://developer.twitter.com/en/docs)
- [YouTube API文档](https://developers.google.com/youtube/v3)
- [DeepL API文档](https://www.deepl.com/docs-api/)
- [Vue 3文档](https://vuejs.org/)
- [Bootstrap 5文档](https://getbootstrap.com/)

### 7.3 开发规范

- 代码风格：PEP 8 (Python), ESLint (JavaScript)
- 提交规范：Conventional Commits
- 分支策略：Git Flow简化版
- 文档规范：Markdown

### 7.4 版本历史

| 版本 | 日期 | 说明 |
|------|------|------|
| v1.1 | 2026-02-12 | 添加Notion订阅源管理集成 |
| v1.0 | 2026-02-12 | 初始版本，基础需求文档 |

---

**文档结束**